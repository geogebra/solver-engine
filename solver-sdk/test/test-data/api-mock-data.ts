import { PlanSelection } from '../../src';

export const planSelectionWithTrivialMember: PlanSelection[] = [
  {
    transformation: {
      path: '.',
      fromExpr: '2 * (x + 1) + x',
      toExpr: '2 (x + 1) + x',
      pathMappings: [{ type: 'Transform', fromPaths: ['.'], toPaths: ['.'] }],
      type: 'Plan',
      tags: null,
      explanation: { key: 'Polynomials.SimplifyAlgebraicExpression', params: [] },
      gmAction: null,
      skills: [],
      steps: [
        {
          path: '.',
          fromExpr: '2 * (x + 1) + x',
          toExpr: '2 (x + 1) + x',
          pathMappings: [
            { type: 'Transform', fromPaths: ['./0'], toPaths: ['./0'] },
            { type: 'Shift', fromPaths: ['./1'], toPaths: ['./1'] },
          ],
          type: 'Plan',
          tags: null,
          explanation: { key: 'General.NormaliseSimplifiedProduct', params: [] },
          gmAction: null,
          skills: [],
          steps: [
            {
              path: './0',
              fromExpr: '2 * (x + 1)',
              toExpr: '2 (x + 1)',
              pathMappings: [
                { type: 'Move', fromPaths: ['./0/0'], toPaths: ['./0/0'] },
                { type: 'Move', fromPaths: ['./0/1'], toPaths: ['./0/1'] },
              ],
              type: 'Rule',
              tags: ['Rearrangement'],
              explanation: { key: 'General.NormaliseSimplifiedProduct', params: [] },
              gmAction: {
                type: 'Edit',
                expressions: ['./0'],
                dragTo: null,
                formulaId: null,
              },
              skills: null,
              steps: null,
              tasks: null,
            },
          ],
          tasks: null,
        },
      ],
      tasks: null,
    },
    metadata: { methodId: 'Polynomials.SimplifyAlgebraicExpressionInOneVariable' },
  },
  {
    transformation: {
      path: '.',
      fromExpr: '2 * (x + 1) + x',
      toExpr: '3 x + 2',
      pathMappings: [{ type: 'Transform', fromPaths: ['.'], toPaths: ['.'] }],
      type: 'Plan',
      tags: null,
      explanation: { key: 'Polynomials.ExpandPolynomialExpression', params: [] },
      gmAction: null,
      skills: [],
      steps: [
        {
          path: '.',
          fromExpr: '2 * (x + 1) + x',
          toExpr: '2 (x + 1) + x',
          pathMappings: [
            { type: 'Transform', fromPaths: ['./0'], toPaths: ['./0'] },
            { type: 'Shift', fromPaths: ['./1'], toPaths: ['./1'] },
          ],
          type: 'Plan',
          tags: null,
          explanation: { key: 'General.NormaliseSimplifiedProduct', params: [] },
          gmAction: null,
          skills: [],
          steps: [
            {
              path: './0',
              fromExpr: '2 * (x + 1)',
              toExpr: '2 (x + 1)',
              pathMappings: [
                { type: 'Move', fromPaths: ['./0/0'], toPaths: ['./0/0'] },
                { type: 'Move', fromPaths: ['./0/1'], toPaths: ['./0/1'] },
              ],
              type: 'Rule',
              tags: ['Rearrangement'],
              explanation: { key: 'General.NormaliseSimplifiedProduct', params: [] },
              gmAction: {
                type: 'Edit',
                expressions: ['./0'],
                dragTo: null,
                formulaId: null,
              },
              skills: null,
              steps: null,
              tasks: null,
            },
          ],
          tasks: null,
        },
        {
          path: '.',
          fromExpr: '2 (x + 1) + x',
          toExpr: '(2 x + 2) + x',
          pathMappings: [
            { type: 'Transform', fromPaths: ['./0'], toPaths: ['./0'] },
            { type: 'Shift', fromPaths: ['./1'], toPaths: ['./1'] },
          ],
          type: 'Plan',
          tags: null,
          explanation: { key: 'Expand.ExpandSingleBracketAndSimplify', params: [] },
          gmAction: null,
          skills: [],
          steps: [
            {
              path: './0',
              fromExpr: '2 (x + 1)',
              toExpr: '2 * x + 2 * 1',
              pathMappings: [
                {
                  type: 'Distribute',
                  fromPaths: ['./0/0'],
                  toPaths: ['./0/0/0', './0/1/0'],
                },
                { type: 'Move', fromPaths: ['./0/1/0'], toPaths: ['./0/0/1'] },
                { type: 'Move', fromPaths: ['./0/1/1'], toPaths: ['./0/1/1'] },
              ],
              type: 'Rule',
              tags: null,
              explanation: { key: 'Expand.DistributeMultiplicationOverSum', params: [] },
              gmAction: {
                type: 'Drag',
                expressions: ['./0/0'],
                dragTo: { expression: './0/1', position: 'Onto' },
                formulaId: null,
              },
              skills: null,
              steps: null,
              tasks: null,
            },
          ],
          tasks: null,
        },
        {
          path: '.',
          fromExpr: '(2 x + 2) + x',
          toExpr: '2 x + 2 + x',
          pathMappings: [{ type: 'Transform', fromPaths: ['./1'], toPaths: ['./2'] }],
          type: 'Rule',
          tags: ['Rearrangement'],
          explanation: { key: 'General.RemoveBracketSumInSum', params: [] },
          gmAction: {
            type: 'Tap',
            expressions: ['./0:('],
            dragTo: null,
            formulaId: null,
          },
          skills: null,
          steps: null,
          tasks: null,
        },
      ],
      tasks: null,
    },
    metadata: { methodId: 'Polynomials.ExpandPolynomialExpressionInOneVariable' },
  },
];

export const planSelectionWithThroughSteps: PlanSelection[] = [
  {
    transformation: {
      path: '.',
      fromExpr: ['Sum', ['1'], ['ImplicitProduct', ['2'], ['x']], ['3']],
      toExpr: ['Sum', ['ImplicitProduct', ['2'], ['x']], ['4']],
      pathMappings: [{ type: 'Transform', fromPaths: ['.'], toPaths: ['.'] }],
      type: 'Plan',
      tags: null,
      explanation: { key: 'Polynomials.SimplifyAlgebraicExpression', params: [] },
      gmAction: null,
      skills: [],
      steps: [
        {
          path: '.',
          fromExpr: ['Sum', ['1'], ['ImplicitProduct', ['2'], ['x']], ['3']],
          toExpr: ['Sum', ['4'], ['ImplicitProduct', ['2'], ['x']]],
          pathMappings: [{ type: 'Transform', fromPaths: ['.'], toPaths: ['.'] }],
          type: 'Plan',
          tags: null,
          explanation: {
            key: 'IntegerArithmetic.SimplifyIntegersInSum',
            params: [
              {
                expression: ['Sum', ['1'], ['ImplicitProduct', ['2'], ['x']], ['3']],
                pathMappings: [{ type: 'Move', fromPaths: ['.'], toPaths: ['.'] }],
              },
            ],
          },
          gmAction: null,
          skills: [],
          steps: [
            {
              path: '.',
              fromExpr: ['Sum', ['1'], ['ImplicitProduct', ['2'], ['x']], ['3']],
              toExpr: ['Sum', ['4'], ['ImplicitProduct', ['2'], ['x']]],
              pathMappings: [
                { type: 'Combine', fromPaths: ['./0', './2'], toPaths: ['./0'] },
                { type: 'Shift', fromPaths: ['./1'], toPaths: ['./1'] },
              ],
              type: 'Rule',
              tags: null,
              explanation: {
                key: 'IntegerArithmetic.EvaluateIntegerAddition',
                params: [
                  {
                    expression: ['1'],
                    pathMappings: [{ type: 'Move', fromPaths: ['./0'], toPaths: ['.'] }],
                  },
                  {
                    expression: ['3'],
                    pathMappings: [{ type: 'Move', fromPaths: ['./2'], toPaths: ['.'] }],
                  },
                ],
              },
              gmAction: {
                type: 'Drag',
                expressions: ['./2'],
                dragTo: { expression: './0', position: 'Onto' },
                formulaId: null,
              },
              skills: null,
              steps: null,
              tasks: null,
            },
          ],
          tasks: null,
        },
        {
          path: '.',
          fromExpr: ['Sum', ['4'], ['ImplicitProduct', ['2'], ['x']]],
          toExpr: ['Sum', ['ImplicitProduct', ['2'], ['x']], ['4']],
          pathMappings: [
            { type: 'Shift', fromPaths: ['./1'], toPaths: ['./0'] },
            { type: 'Shift', fromPaths: ['./0'], toPaths: ['./1'] },
          ],
          type: 'Rule',
          tags: ['Rearrangement'],
          explanation: { key: 'Polynomials.NormalizePolynomial', params: [] },
          gmAction: null,
          skills: null,
          steps: null,
          tasks: null,
        },
      ],
      tasks: null,
    },
    metadata: { methodId: 'Polynomials.SimplifyAlgebraicExpressionInOneVariable' },
  },
];
